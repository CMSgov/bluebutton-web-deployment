---
- name: "install base app server components"
  remote_user: ec2-user
  become_user: "{{ remote_admin_account }}"
  become: yes
  yum:
    pkg: "{{ item }}"
    state: installed
  with_items:
    - gcc
    - gcc-c++
    - git
    - python-psycopg2
    - httpd
    - httpd-devel
    - mod_ssl
    - bzip2-devel
    - openssl-devel
    - ncurses-devel
    - postgresql-devel
    - python-devel
    - python-cffi
    - sqlite-devel
    - readline-devel
    - tk-devel
    - gdbm-devel
    - db4-devel
    - libxml2-devel
    - libxslt-devel
    - libffi
    - libffi-devel
    - xz-devel
    - zlib-devel

- name: "install pip 9.0.3"
  become_user: "{{ remote_admin_account }}"
  become: yes
  shell: easy_install pip==9.0.3

- name: "install newer version of awscli - needed for elbv2"
  become_user: "{{ remote_admin_account }}"
  become: yes
  shell: pip install --upgrade awscli
