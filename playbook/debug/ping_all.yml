---
# File: ping_all.yml 
# Created: 4/5/17
# Ping all servers
# A basic script to check things are working.

- hosts: dmz_zone,web_zone,app_zone,data_zone,mgmt_zone
  vars:
    env: "dev"
  # Vars file is relative to playbook file
  vars_files:
    - "./../../vars/common.yml"
    - "./../../vars/env/{{ env }}/env.yml"
    - "./../../vars/all_var.yml"

  user: "ec2-user"
  gather_facts: no
  tasks:
  - name: ping all hosts
    ping:

  - name: A quick shell echo
    action: "shell /bin/echo $HOSTNAME in {{ env }} via {{ remote_user_account }}"
